{"componentChunkName":"component---src-templates-blog-post-js","path":"/React Server Components/","result":{"data":{"site":{"siteMetadata":{"title":"lqs469","author":"Qinshuo(Allen) Li"}},"markdownRemark":{"id":"5f89f662-1284-5fbc-b01d-55991d09208f","excerpt":"React Server Component — “RSC” Server Components are an experimental feature and are not ready for adoption. Recommend read this article firstly: Introducing Zero-Bundle-Size React Server Components…","html":"<blockquote>\n<p><strong>React Server Component — “RSC”</strong></p>\n<p>Server Components are an experimental feature and are not ready for adoption.</p>\n</blockquote>\n<p><strong>Recommend read this article firstly: <a href=\"https://reactjs.org/blog/2020/12/21/data-fetching-with-react-server-components.html\">Introducing Zero-Bundle-Size React Server Components</a></strong></p>\n<h2>Background</h2>\n<p>In the frontend development, we will meet some pain points, all We want:</p>\n<ol>\n<li>Fast(Performance)</li>\n<li>Cheap(Maintenance)</li>\n<li>Good(User experience)</li>\n</ol>\n<p>But for sure we can’t get all. Here is an example:</p>\n<p>Component usually exchanges data with the server by:</p>\n<ol>\n<li>Fetch data in the parent node and dispatch to all children components(waiting until dispatching)</li>\n<li>Fetch data in every respective children component (data maybe exists duplicated part)</li>\n</ol>\n<p>The first way needs to wait and maintain easily— Cheap but no fast. Second-way waste resource and hard to maintain but fast — Good, fast but no cheap</p>\n<h2>Under the hood</h2>\n<p>One word, React Server Component is: <strong>Asynchronously dispatch react component by serialized JSON from server-side.</strong></p>\n<p>This is serialized JSON data looks like:\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/02a21c469c6e89858d5103567cf6be6c/d67fd/RSC.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 79.72972972972973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACi0lEQVQoz02Ta3OaQBSG/f8/qe2XpmkaG1QEBLkjAspluSqIJk0fTKbTnZ2ds3vu73t2drlcyrIUQlRlNfR9VSKIuppkIdCUVVU1dXM+nUtRFoXouhOr67rX19fZqTt5jmfoBmdTn9SN+1tSV2tTlF0YhFt969petI/bpnNsl2uRC1GUeVbcbrfZeBmrqo7jJM9yzw/DSMTHytulfhAfD0d2HMVJnFBFkRfIFIhnnhfDMMzGcTwkB1VRAz8wNrrI8zzLHMsydH21XC2kpbJWza2JzUbbaJoW7kJicVL8jADkNAzD931N1eIosW1HUVRV1QIvoFUMhn6gu/P5fBkuvIzjtT/31+t1xj09pLIs25ZNBvJz7oIdeZDZuqZLL9JaXn++q9N7HMfEmjKnxxSF7/m2bQMpfXquR1rHduSVrKyVhbSYXvyA0lwH/KJ9uJ/KJnNZlI5Dm5bneWEYmoaJjszAgx3C/Hn+8P0BtLkuF0sCUULbtlNmYLwDe0CA8Xgf5WmaHo9VWaZphipJDrhlaQbtlCkKgefb29vEs2Xa6lpVZAV1nlUvkjz/vZSkddv2vuvLS9nYGPrGqMta5GWW5hQ7DJf39/cZSJ5P/Uc8AZNp5cfCDbNdUoVxwWxN74UAC0Kz4Rm5aZrJue/7um7gGXhoLz0eTIM8GrVudYPeoBQsge3xx+PXL98gBUTo4p75zrOmaFjg71hOFEYfkICQvtFxs0xr8bIgwdbYwovruIzSZ9lUhQUOTDgKQCYQRtbWwhqSIez51/zp55POF3A9AGfgJmcAK7Li46O0Tcs0NU2LXN8XWuChc7plKonLL6RhVJMzU8bE8UUQOMfrePtvXe8LAWL+3Ne/K85/AdbwXo5FNC3VAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"RSC\"\n        title=\"RSC\"\n        src=\"/static/02a21c469c6e89858d5103567cf6be6c/fcda8/RSC.png\"\n        srcset=\"/static/02a21c469c6e89858d5103567cf6be6c/12f09/RSC.png 148w,\n/static/02a21c469c6e89858d5103567cf6be6c/e4a3f/RSC.png 295w,\n/static/02a21c469c6e89858d5103567cf6be6c/fcda8/RSC.png 590w,\n/static/02a21c469c6e89858d5103567cf6be6c/d67fd/RSC.png 670w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Actually, We already have GraphQL, it also can fetch the data that component needs just enough. why we need RSC?</p>\n<p>Actually not every team welcome GraphQL, it needs a special frontend and backend API, it’s pretty complex, many teams don’t like such high costs on learning and maintaining.</p>\n<p>Server-Side Rendering(SSR), RSC is basically different from SSR. SSR responds with the whole HTML and refreshes the page when the user triggers some action, but RSC still keeps the way of asynchronous interaction and refreshing partial.</p>\n<p>of course, you can use RSC with all of the technologies above, you can use RSC in SSR and communicate between client and server by GraphQL If you like and god bless you.</p>\n<p><strong>RSC can bring us:</strong></p>\n<ol>\n<li>Less bundle size, load the code that is necessary(Both app itself and imported libraries)</li>\n<li>Speed up data grab process, from server to server side</li>\n<li>No need to consider the possible bandwidth waste through data API</li>\n<li>No need to consider components should be imported asynchronously or packaged in advance</li>\n<li>Less SPA’s white screen time</li>\n</ol>\n<p><strong>What kind of component suits RSC (for now):</strong></p>\n<ol>\n<li>No much interaction</li>\n<li>Do have some data rely on</li>\n<li>Flexible content components</li>\n</ol>\n<p>In my opinion, If RSC production-ready, we can use it as a normal way to develop react applications (like hooks).</p>\n<p><strong>More interesting concepts:</strong></p>\n<ol>\n<li>Client and server component looks the same</li>\n<li>“Shared Component”</li>\n<li>Transfer data from server to server in RSC, That’s way fast and it has many approaches</li>\n<li>Get rid of some libraries which just be used few times in the corner</li>\n<li>Server mental model</li>\n<li>A mixed component tree</li>\n</ol>\n<h2>For now</h2>\n<p>React Server Components are still in <strong>research</strong> and <strong>development</strong>. But this concept is pretty inspired, we can develop at server side, reduce the SPA’s white screen time, lighten bundle size and we have a new approach to improve user experience.</p>","frontmatter":{"title":"React Server Components, Better SPA powered by backend","date":"December 25, 2020","categories":null}}},"pageContext":{"slug":"/React Server Components/","previous":{"fields":{"slug":"/也许你想要的只是一个静态应用/"},"frontmatter":{"title":"也许你想要的只是一个静态应用"}},"next":{"fields":{"slug":"/popstar/"},"frontmatter":{"title":"Popstar Game"}}}},"staticQueryHashes":["2113486316","63159454"]}