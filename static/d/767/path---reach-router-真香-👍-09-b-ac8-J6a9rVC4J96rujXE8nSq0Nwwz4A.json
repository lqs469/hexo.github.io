{"data":{"site":{"siteMetadata":{"title":"Lqs469","author":"lqs469"}},"markdownRemark":{"id":"fb84c79f-2eb5-5e27-bbb7-6d069006d7b3","excerpt":"Reach-Router  æ˜¯ å‰  ReactRouter æˆå‘˜ Ryan Florence å¼€å‘çš„ä¸€å¥—åŸºäº react çš„è·¯ç”±æ§ä»¶. é‚£ä¹ˆå·²ç»æœ‰æ¯”è¾ƒæˆç†Ÿçš„ ReactRouter äº†, ä¸ºä»€ä¹ˆè¦â€å†â€åšä¸€å¥— Router å‘¢, æœ€åˆçš„åŸå› æœ‰å…´è¶£(\u0001hÃ o shiâ€¦","html":"<p><img src=\"/3910365c6be928469d0afb130c0ccee3-679f2858c4fa2dd342df5fc27b44dcc2.gif\"></p>\n<blockquote>\n<p><a href=\"https://reach.tech/router\">Reach-Router</a> æ˜¯<strong>å‰</strong> ReactRouter æˆå‘˜ Ryan Florence å¼€å‘çš„ä¸€å¥—åŸºäº react çš„è·¯ç”±æ§ä»¶. é‚£ä¹ˆå·²ç»æœ‰æ¯”è¾ƒæˆç†Ÿçš„ ReactRouter äº†, ä¸ºä»€ä¹ˆè¦â€å†â€åšä¸€å¥— Router å‘¢, æœ€åˆçš„åŸå› æœ‰å…´è¶£(\u0001hÃ o shi)çš„åŒå­¦å¯ä»¥å»äº†è§£ä¸€ä¸‹, æœ¬æ–‡ä¼šä»‹ç» ReachRouter å¹¶ä¸”è¯´æ˜å…·ä½“æ¯” React-Router å¥½åœ¨å“ªé‡Œ.</p>\n</blockquote>\n<h2>Overview</h2>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a1ae7f25f0842a04f991cc43c8a25bc5/088db/7B44554A-6DDF-4F85-B1C8-263D85F6EB43.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 39.35483870967742%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAABIUlEQVQY042PTVLDMAyFc/9zsOIO7NjAjjK0qZs6KU3z1yS1a8eOJTtByQwLBhZ8izeyR096irTSOU92PH96ft3H8dtmw7NTXlTnoijrprvdhJTGmGEw1tpxhQpediNg1B2yzcNjVst3fhF9VzdNVVVN01yvV1IhRN/39FPXdbVCRVFcXuJPbV0E1un2Pk/hLkXbdtRKBuq4rbRtW5bLLAIR559EECaFEwJstzvG2HFFSumcA0QHYNeclNZ7P30TpmkxI5kheMT9niUraZpyzik2rXLWeoTRWEQ//2Ixa5gAHGMHztNDktAU0phgyUd6Pl6q7fGklPrbrFygmwetrBnMoEn1QC+ljZE4Sxc0zn+y3KwhaPBc2LMcM2Fzaef/8QU4jsS4znpSEQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"7B44554A 6DDF 4F85 B1C8 263D85F6EB43\"\n        title=\"\"\n        src=\"/static/a1ae7f25f0842a04f991cc43c8a25bc5/6255c/7B44554A-6DDF-4F85-B1C8-263D85F6EB43.png\"\n        srcset=\"/static/a1ae7f25f0842a04f991cc43c8a25bc5/375dc/7B44554A-6DDF-4F85-B1C8-263D85F6EB43.png 148w,\n/static/a1ae7f25f0842a04f991cc43c8a25bc5/6b157/7B44554A-6DDF-4F85-B1C8-263D85F6EB43.png 295w,\n/static/a1ae7f25f0842a04f991cc43c8a25bc5/6255c/7B44554A-6DDF-4F85-B1C8-263D85F6EB43.png 590w,\n/static/a1ae7f25f0842a04f991cc43c8a25bc5/088db/7B44554A-6DDF-4F85-B1C8-263D85F6EB43.png 620w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>ä» RF çš„ Tweet ä¸Šç®€å•çš„å‘å¸ƒå¯ä»¥çœ‹å‡ºæ¥, ReachR (ä»¥ä¸‹éƒ½ç®€ç§° ReachR)ä¸»æ‰“çš„æ˜¯:</p>\n<ul>\n<li>Accessibility, ä¹Ÿå°±æ˜¯æ— éšœç¢, æ˜“ç”¨æ€§.</li>\n<li>ç›¸å¯¹é“¾æ¥çš„è·³è½¬æ–¹å¼.</li>\n<li>åµŒå¥—çš„è·¯ç”±é…ç½®.</li>\n<li>åˆé€‚çš„è·¯å¾„ä¼˜å…ˆ(é¡ºåºä¸ä¼šé€ æˆå½±å“).</li>\n<li>â€¦</li>\n</ul>\n<p>æˆ‘ä»¬å…ˆä¸ç®¡è¿™äº› features åˆ°åº•æ˜¯ä»€ä¹ˆ, æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€çœ‹ ReachR çš„è®¾è®¡æ„å›¾: æ ¹æ®ä½œè€…çš„<a href=\"https://reach.tech/router/credits\">åŸè¯</a>, æ•´ä¸ª ReachR é¡¹ç›®æ˜¯å¯¹ ReactR V3 å’Œ V4 ä¸¤ä¸ªç‰ˆæœ¬çš„ä¸€äº›ä¼˜ç‚¹çš„é›†æˆä»¥åŠåŠ å…¥äº†ä¸€äº›ä½œè€…ä¸€ç›´æƒ³è¦çš„åŠŸèƒ½.</p>\n<p>é‚£ä¹ˆè·Ÿ React-Router æ¯”è¾ƒä¸€ä¸‹å‘¢:</p>\n<ul>\n<li>å°ºå¯¸. æ›´å°‘çš„ä¾èµ–å’Œæ›´å°‘ä»£ç å®ç°å¤Ÿç”¨çš„åŠŸèƒ½, ReactR ä»£ç çº¦ä¸º 229KB, ReachR ä»£ç ä¸º 193KB, ç»„ä»¶ä¾èµ–ä¹Ÿæ›´å°‘.</li>\n<li>æ²¡æœ‰å¤æ‚çš„è·¯ç”±æ¨¡å¼. æ²¡æœ‰å¤šä½™çš„å¯é€‰å‚æ•°æˆ–ç±»ä¼¼çš„ä¸œè¥¿ï¼Œåªæ˜¯é™æ€è·¯å¾„ï¼Œå‚æ•°å’Œå°¾éšé€šé…ç¬¦ã€‚</li>\n<li>ä¸æ”¯æŒ React-Native. è®²é“ç†, ä½ çš„è·¯ç”±æ ¹æœ¬ç”¨ä¸ä¸Šæ”¯æŒ RN.</li>\n</ul>\n<p>å…¶å®æˆ‘è®¤ä¸ºæœ€é‡è¦çš„ä¸€ç‚¹, ReachR æ¯” ReactR å¯¹å¼€å‘è€…æ¥è®²: <strong>æ›´å¥½ç”¨</strong>.</p>\n<h2>Under the hood</h2>\n<p>é‚£ä¹ˆæˆ‘ä»¬æ¥å…·ä½“çœ‹çœ‹ ReachRouter çš„ API è®¾è®¡:</p>\n<h3>æ¸²æŸ“æ–¹æ³•</h3>\n<p>è·Ÿ ReactRouter ä¸ç”¨åœ¨äº, åœ¨ä¼—å¤šè·¯ç”±ä¸­åªä¼šæ ¹æ® path æ¸²æŸ“ä¸€ä¸ªæœ€ç¬¦åˆæ¡ä»¶çš„å­ç»„ä»¶.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Router<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Home path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Dash path<span class=\"token operator\">=</span><span class=\"token string\">\"dashboard\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>å¦‚å›¾ä¾‹, ç»„ä»¶ç›´æ¥åŠ å‚æ•° path çš„å†™æ³•ååˆ†ç®€æ´, å½“å‰ url ä¸º /dashboard æ—¶, åªä¼šæ¸²æŸ“ Dash, è€Œå½“å‰ url = â€˜/â€™ æ—¶æ‰ä¼šæ¸²æŸ“ Home. åœ¨ ReactRouter ä¸­åŒ¹é…åˆ™æ¸²æŸ“çš„æ–¹å¼çš„ç¡®èƒ½è§£å†³ä¸€äº›ç»„ä»¶å¤ç”¨çš„åŒ¹é…æƒ…å†µ, ç„¶è€Œæˆ‘ä»¬é‡åˆ°æ›´å¤šçš„æƒ…å†µåˆ™æ˜¯å¸Œæœ›ä¸“ä¸€çš„æ¸²æŸ“å•ä¸ªç»„ä»¶.</p>\n<h3>Link å¯¼èˆª</h3>\n<Link /> å¯ä»¥åœ¨ä»»ä½•ä½ç½®æ”¾ç½®, æ²¡æœ‰é™åˆ¶, ä¸éœ€è¦åŒ…è£¹è¿›<Router />.\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>Home<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"dashboard\"</span><span class=\"token operator\">></span>Dashboard<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span></code></pre></div>\n<h3>é€šé…ç¬¦å‚æ•°</h3>\n<p>é€šé…ç¬¦å‚æ•°ä¼šç›´æ¥æ³¨å…¥ props, ç”¨ä¸ç€å† props.locationâ€¦</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// at url \"/invoice/23\"</span>\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Router<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Home path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Invoice path<span class=\"token operator\">=</span><span class=\"token string\">\"invoice/:invoiceId\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Invoice</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">props</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>Invoice <span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">.</span>invoiceId<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>å…¶æ•ˆæœå’Œ <code class=\"language-text\">&lt;Invoice invoiceId={23} /&gt;</code> ä¸€æ ·, ç®€æ´ç›´æ¥.</p>\n<h3>â€œæ™ºèƒ½â€åŒ¹é…æœ€åˆé€‚çš„è·¯å¾„</h3>\n<p>è¿™æ˜¯ ReachRouter ä¸€ä¸ªå¾ˆæ£’çš„ç‰¹æ€§, å¦‚ä¸‹é¢ä¾‹å­</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Router<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Home path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Invoice0 path<span class=\"token operator\">=</span><span class=\"token string\">\":invoiceId\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Invoice1 path<span class=\"token operator\">=</span><span class=\"token string\">\"invoices\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Invoice2 path<span class=\"token operator\">=</span><span class=\"token string\">\"/invoices\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>å½“ url ä¸º â€˜/invoicesâ€™ è¿™é‡Œè°æ›´åˆé€‚å‘¢?\nç­”: æ¸²æŸ“&#x3C; Invoice1 />.\nè€Œå½“ url ä¸º â€˜/123â€™ ä¼šæ¸²æŸ“ <Invoice0 invoiceId={123} />.</p>\n<p>ä¹Ÿå°±æ˜¯è¯´åªæœ‰ url å‡†ç¡®åŒ¹é…åˆ° path ä¸”ä¸ºéé€šé…ç¬¦å‚æ•°æ—¶, ä¼šä¼˜å…ˆä¸”åªä¼šæ¸²æŸ“æ­¤ç»„ä»¶, è€Œå¦‚æœæ²¡æœ‰ç¬¦åˆçš„ path, æ‰ä¼šå»æ¸²æŸ“åŒ…å«é€šé…ç¬¦çš„ç»„ä»¶, è¿™ä¸é¡ºåºæ— å…³, ä¹Ÿå°±æ˜¯è¯´<Invoice0 />, <Invoice1 />äº¤æ¢é¡ºåºä¸ä¼šå½±å“æ¸²æŸ“é€»è¾‘.</p>\n<p>ä½†æ˜¯å¦‚æœ<Invoice1 />, <Invoice2 />äº¤æ¢é¡ºåº, ç»“æœä¼šæ€ä¹ˆæ ·å‘¢?\nç­”: æ¸²æŸ“ç¬¬ä¸€ä¸ªåŒ¹é…çš„ path. å½“ url = â€˜/Invoicesâ€™ æ—¶, æ¸²æŸ“ç¬¬ä¸€ä¸ª path=â€˜invoicesâ€™ æˆ–è€… â€™/invoicesâ€™ çš„ç»„ä»¶(äºŒè€…æ˜¯ä¸€æ ·çš„, æ‰€ä»¥åŒ¹é…é‡åˆ°çš„ç¬¬ä¸€ä¸ª).</p>\n<p>è¿™ä¸€ç‰¹æ€§å¯¹æ¯” ReactRouter V4 çš„å®ç°, ä¸ä»…é€»è¾‘ç®€å•æ¸…æ™°, è¿˜èƒ½å¤Ÿçœä¸‹ä¸€ä¸ª<Switch />(ä¸ä¸€å®š).</p>\n<h3>åµŒå¥—è·¯ç”±å’ŒåµŒå¥—å­ç»„ä»¶</h3>\n<p>è¿™æ˜¯ ReachRouter ç›¸æ¯”æœ€èƒ½ä½“ç°å…¶ä¼˜ç‚¹çš„åœ°æ–¹. åµŒå¥—ç»„ä»¶åœ¨ Route ä¸­, å®ƒçš„ path ä¹Ÿä¼šéµå¾ªåµŒå¥—, å¹¶ä¸”å…¶åŒ¹é…çš„å­ç»„ä»¶å°†ä½œä¸º props.children ä¼ é€’.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Dash</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>Dashboard<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>hr <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Router<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Home path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Dash path<span class=\"token operator\">=</span><span class=\"token string\">\"dashboard\"</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Invoices path<span class=\"token operator\">=</span><span class=\"token string\">\"invoices\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Team path<span class=\"token operator\">=</span><span class=\"token string\">\"team\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Dash<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>å¦‚æœ url æ˜¯ â€™/dashboard/invoicesâ€™, åˆ™å°†æ¸²æŸ“ <code class=\"language-text\">&lt;Dash&gt;&lt;Invoices/&gt;&lt;/Dash&gt;</code>. å¦‚æœå®ƒåªæ˜¯â€œ/dashboardâ€, å­ç»„ä»¶å°†ä¸ä¼šè¢«æ¸²æŸ“, åªæœ‰ <code class=\"language-text\">&lt;Dash /&gt;</code> å‡ºç°.</p>\n<p>å¹¶ä¸”åŸºäºè¿™ä¸ªç‰¹æ€§æˆ‘ä»¬ç»ˆäºå¯ä»¥åœ¨å­è·¯ç”±å†…ç”¨ â€œ/â€ äº†</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>Dash path<span class=\"token operator\">=</span><span class=\"token string\">\"dashboard\"</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>DashboardGraphs path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>InvoiceList path<span class=\"token operator\">=</span><span class=\"token string\">\"invoices\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Dash<span class=\"token operator\">></span></code></pre></div>\n<p>ç»„ä»¶é€»è¾‘å…³ç³»ä¸€ç›®äº†ç„¶, æ˜¯ä¸€ä¸ªç‰¹åˆ«å¥½ç”¨ä¸”ç»å¸¸ç”¨åˆ°çš„åœºæ™¯.</p>\n<h3>ç›¸å¯¹é“¾æ¥</h3>\n<p>å­ç»„ä»¶å†…çš„å¯¼èˆªå¯ä»¥ç›´æ¥ä½¿ç”¨å­ç»„ä»¶çš„ path æ¥ä½œä¸º to çš„å‚æ•°. ä¹Ÿå°±æ˜¯ç›¸å¯¹é“¾æ¥(Relative Links), å½“çˆ¶ç»„ä»¶çš„ path æ”¹å˜æ—¶æˆ–è€…ç»„ä»¶è¢«ç§»åŠ¨åˆ°åˆ«å¤„æ—¶, è¿™ä¸ªç‰¹æ€§æ˜¾å¾—å¾ˆæœ‰ç”¨.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Router<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Home path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Dash path<span class=\"token operator\">=</span><span class=\"token string\">\"dashboard\"</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Invoices path<span class=\"token operator\">=</span><span class=\"token string\">\"invoices\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Team path<span class=\"token operator\">=</span><span class=\"token string\">\"team\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Dash<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Dash</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>Dashboard<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>nav<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"invoices\"</span><span class=\"token operator\">></span>Invoices<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token string\">\"team\"</span><span class=\"token operator\">></span>Team<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>nav<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>hr <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p><Dash />å†…çš„<Link />ä¸éœ€è¦ to=â€˜/dashboard/invoicesâ€™ è€Œæ˜¯ç›´æ¥ to=â€˜invoicesâ€™ å³å¯.</p>\n<h3>404 NotFound</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>Home path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>NotFound <span class=\"token keyword\">default</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre></div>\n<p>çœŸçš„, éå¸¸ç®€æ´.</p>\n<h3>æ”¯æŒå¤šä¸ª Router</h3>\n<p>å¦‚æœä½ æƒ³è¦åœ¨åº”ç”¨ä¸­åŒ¹é…å¤šå¤„çš„ç»„ä»¶, å¯ä»¥ç›´æ¥ä½¿ç”¨å¤šä¸ª<Router />. è¿™ä¸€ç‚¹åœ¨å¯¼èˆªèœå•é‡Œéå¸¸å¸¸è§.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">    <span class=\"token operator\">&lt;</span>Sidebar<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Router primary<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>HomeNav path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>DashboardNav path<span class=\"token operator\">=</span><span class=\"token string\">\"dashboard\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Sidebar<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>MainScreen<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Router<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Home path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>About path<span class=\"token operator\">=</span><span class=\"token string\">\"about\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Home<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Dash path<span class=\"token operator\">=</span><span class=\"token string\">\"dashboard\"</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Invoices path<span class=\"token operator\">=</span><span class=\"token string\">\"invoices\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Team path<span class=\"token operator\">=</span><span class=\"token string\">\"team\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Dash<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>MainScreen<span class=\"token operator\">></span></code></pre></div>\n<p>å¦‚æœä½ æƒ³è¦åœ¨ä¸€ä¸ª<Router />å†…éƒ¨åµŒå¥—å¦ä¸€ä¸ª<Router />çš„è¯, éœ€è¦æŠŠå¤–å±‚çš„ path åŠ ä¸Šä¸€ä¸ª â€˜/*â€™, å°±èƒ½åšåˆ°è·Ÿæ²¡æœ‰&#x3C;Router/ >ä¸€æ ·æ•ˆæœçš„ path åµŒå¥—, è¿™ä¹ˆå®ç°å¯¹äºç»„ä»¶å¤ç”¨æˆ–è€…åœ¨å¤§å‹åº”ç”¨å¤šä»£ç æ¨¡å—åˆ†åˆ«å¼€å‘æœ‰å¥‡æ•ˆ.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Router<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Home path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Dash path<span class=\"token operator\">=</span><span class=\"token string\">\"dashboard/*\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Dash</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token constant\">A</span> nested router<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Router<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>DashboardGraphs path<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>InvoiceList path<span class=\"token operator\">=</span><span class=\"token string\">\"invoices\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Router<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>å¯¼èˆªæ§åˆ¶</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>navigate<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@reach/router'</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Invoices</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>NewInvoiceForm\n      onSubmit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">async</span> <span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> newInvoice <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">createInvoice</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">navigate</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`/invoices/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>newInvoice<span class=\"token punctuation\">.</span>id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p>å°±ä¸€ä¸ª <code class=\"language-text\">navigate</code> å‡½æ•°, å¤Ÿç”¨äº†. æˆ–è€…è¿™æ ·ç”¨: <code class=\"language-text\">props.navigate</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">Invoices</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>navigate<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>NewInvoiceForm\n      onSubmit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">async</span> <span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> newInvoice <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">createInvoice</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">// can navigate to relative paths</span>\n        <span class=\"token function\">navigate</span><span class=\"token punctuation\">(</span>newInvoice<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">Navigate</code> ä¼šè¿”å›ä¸€ä¸ª Promise. è¿™è¡¨ç¤ºå¯ä»¥ä½¿ç”¨è¿­ä»£å»æ§åˆ¶é¡µé¢çš„è½¬åœºæ•ˆæœä»¥åŠå‡†ç¡®çš„æ•°æ®æµå‘, ä½¿å¾—å’Œ react çš„ç”Ÿå‘½å‘¨æœŸçš„é…åˆå˜å¾—éå¸¸æµç•….</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Invoices</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  state <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    creatingNewInvoice<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>LoadingBar animate<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>creatingNewInvoice<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>NewInvoiceForm\n          onSubmit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">async</span> <span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n              creatingNewInvoice<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">const</span> newInvoice <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">createInvoice</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">await</span> <span class=\"token function\">navigate</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`/invoice/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>newInvoice<span class=\"token punctuation\">.</span>id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n              creatingNewInvoice<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>InvoiceList <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>å°±è¿™äº›!</p>\n<h2>In the end</h2>\n<p>åœ¨åº”ç”¨ä¸­, ä¸€ä¸ª Router åªéœ€è¦ä¿è¯åŸºæœ¬åŠŸèƒ½ä¸”ç¨³å®šå°±è¶³å¤Ÿäº†, ReachRouter å¾ˆå¥½çš„åšåˆ°äº†è¿™ä¸€ç‚¹. ä»¥ä¸Šæ˜¯ä»–å¯¹æ¯”äº ReactRouter çš„ä¸€äº›ä¼˜åŒ–ç‰¹æ€§. è§£å†³äº†ä¸€ç³»åˆ—å¤‡å—åæ§½çš„ ReactRouter V4 çš„å¥‡è‘©è®¾è®¡. æ€»çš„æ¥è¯´, å¤Ÿç”¨ä¸”å¥½ç”¨æ˜¯ ReachRouter çš„ç²¾é«“, API éå¸¸æ¸…æ™°ä¸”é«˜æ•ˆ. è½®å­å¹´å¹´æœ‰, ä»Šå¹´ç‰¹åˆ«å¤š, ç°åœ¨å°šä¸å¯é¢„æµ‹æœªæ¥ ReachRouter ä¼šä¸ä¼šå–ä»£ ReactRouter, ä½†æ˜¯å…¶ä¸­çš„å¾ˆå¤šç‰¹æ€§åœ¨å‰ç«¯è·¯ç”±æ¨¡å—çš„è®¾è®¡ä¸­å¾ˆæœ‰æ„ä¹‰, ä½œè€…ä¹Ÿæ˜¯è¿™æ–¹é¢çš„å¸¦è·¯è€…, æ¨èå¤§å®¶å»äº†è§£ä¸€ä¸‹.</p>\n<p>é™¤æ­¤ä»¥ä¸Š API ä¹‹å¤–, ReachRouter ä¹Ÿæœ‰ Server Rendering API, navigate API, LocationProvider, createHistory ç­‰å‰ä½œå®ç°çš„åŠŸèƒ½ç‚¹ä¿ç•™ä¸‹æ¥, å¹¶ä¸”éƒ½æœ‰éƒ¨åˆ†ä¼˜åŒ–. æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å»å­¦ä¹ ä¸€å‘.âœŒï¸</p>","frontmatter":{"title":"Reach-Routerâ€œçœŸé¦™ğŸ‘â€","date":"June 05, 2018","categories":"å¼±é¸¡ä¹‹è·¯"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/Reach-Routerâ€œçœŸé¦™ğŸ‘â€/","previous":{"fields":{"slug":"/Reactv16-3çš„æ–°ç”Ÿå‘½å‘¨æœŸ/"},"frontmatter":{"title":"Reactv16.3çš„æ–°ç”Ÿå‘½å‘¨æœŸ"}},"next":{"fields":{"slug":"/åœŸè±†ğŸ¥”å‘¨æŠ¥ç”Ÿæˆå™¨/"},"frontmatter":{"title":"åœŸè±†ğŸ¥”å‘¨æŠ¥ç”Ÿæˆå™¨"}}}}