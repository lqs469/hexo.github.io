{"data":{"site":{"siteMetadata":{"title":"Lqs469","author":"lqs469"}},"markdownRemark":{"id":"92cf19cb-b783-575f-9e68-ed2c3fefd4c8","excerpt":"6 æœˆ 27 å·, TC39 æ­£å¼å®Œæˆäº† ES2018/ES9 çš„è¯­è¨€è§„èŒƒ  å¼€å§‹è¿›å…¥ ES2019 é˜¶æ®µ.\næœ€ç»ˆé˜¶æ®µè¯¦æƒ…:  finished-proposals \næ¥çœ‹çœ‹ ES2018 æ¯”ä¹‹å‰çš„ ES2017 æ–°å¢äº†å“ªäº›è§„èŒƒ. Object Rest/Spread Properties å¯¹äºå¯¹è±¡çš„ Restâ€¦","html":"<p>6 æœˆ 27 å·, TC39 æ­£å¼å®Œæˆäº†<a href=\"https://tc39.github.io/ecma262/\">ES2018/ES9 çš„è¯­è¨€è§„èŒƒ</a> å¼€å§‹è¿›å…¥ ES2019 é˜¶æ®µ.\næœ€ç»ˆé˜¶æ®µè¯¦æƒ…: <a href=\"https://github.com/tc39/proposals/blob/master/finished-proposals.md\">finished-proposals</a>\næ¥çœ‹çœ‹ ES2018 æ¯”ä¹‹å‰çš„ ES2017 æ–°å¢äº†å“ªäº›è§„èŒƒ.</p>\n<h2>Object Rest/Spread Properties</h2>\n<p>å¯¹äºå¯¹è±¡çš„ Rest/Spread, è€Œä¹‹å‰æ ‡å‡†åªæœ‰æ•°ç»„æ˜¯æ”¯æŒçš„. è¯´å‡ºæ¥ä½ å¯èƒ½ä¸ä¿¡, è¿™æ˜¯ ES9 çš„ç‰¹æ€§, æˆ‘æ„Ÿè§‰éƒ½å·²ç»ç”¨äº†å¾ˆä¹…äº†â€¦</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>x<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> z<span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>x<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>rest<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> obj\n<span class=\"token comment\">// x = 1, rest = { y: 2, z: 3 }</span></code></pre></div>\n<p>å¾ˆå®ç”¨çš„ä¸€ç‚¹æ¯”å¦‚ React props å¯ä»¥è¿™æ ·å†™</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">render</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> x<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>props <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props\n\t<span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>props<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Asynchronous Iteration å¼‚æ­¥è¿­ä»£å™¨</h2>\n<p>ç¥å¥‡çš„å¼‚æ­¥è¿­ä»£å™¨, å¦‚æœä½ ä¹‹å‰è¿™æ ·å†™, å¾ªç¯ä¼šä¾æ—§ä¿æŒåŒæ­¥, è€Œå¼‚æ­¥ç‹¬ç«‹äºå¾ªç¯å¤–, ä¸ºä»€ä¹ˆä¼šå¯¼è‡´è¿™ä¸ªæƒ…å†µæƒ³æ˜ç™½è¿™ä¸ªæœºåˆ¶çš„åŒå­¦å¯ä»¥å»äº†è§£ä¸€ä¸‹ js äº‹ä»¶å¾ªç¯.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token keyword\">await</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> line <span class=\"token keyword\">of</span> <span class=\"token function\">readLines</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  \t<span class=\"token comment\">// line by line</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Promise.prototype.finally()</h2>\n<p>åˆä¸€ä¸ªä»¥ä¸ºæ—©å°±æœ‰çš„ç‰¹æ€§, å½“<code class=\"language-text\">promise</code>ç»“æŸæ—¶ç¨³å®šè¢«è§¦å‘(æ— è®º<code class=\"language-text\">resolve</code>, <code class=\"language-text\">reject</code>), å‡ ä¹æ˜¯æ‰«å°¾å·¥ä½œä¸“ç”¨æ–¹æ³•.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">finally</span><span class=\"token punctuation\">(</span>Fn<span class=\"token punctuation\">)</span></code></pre></div>\n<h2>ä¸€ç³»åˆ—æ­£åˆ™ä¼˜åŒ–</h2>\n<h3><code class=\"language-text\">s</code> æ ‡å¿—å’Œ <code class=\"language-text\">dotAll</code> æ¨¡å¼</h3>\n<p>ä¹‹å‰ <code class=\"language-text\">.</code> ç”¨äºåŒ¹é…ä»»ä½•å•å­—ç¬¦, ä½†æœ‰ä¸¤ä¸ªä¾‹å¤–:</p>\n<ol>\n<li>\n<p>æ— æ³•åŒ¹é…è¡Œç»“æŸç¬¦</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">;</span><span class=\"token regex\">/foo.bar/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'foo\\nbar'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// â†’ false</span></code></pre></div>\n<p>è¡Œç»ˆç»“ç¬¦:</p>\n</li>\n<li>U+000A LINE FEED (LF) (\\n) - æ¢è¡Œ</li>\n<li>U+000D CARRIAGE RETURN (CR) (\\r) - å›è½¦</li>\n<li>U+2028 LINE SEPARATOR - è¡Œåˆ†éš”ç¬¦</li>\n<li>U+2029 PARAGRAPH SEPARATOR - æ®µåˆ†éš”ç¬¦\nä»¥åŠ:</li>\n<li>U+000B VERTICAL TAB (\\v)</li>\n<li>U+000C FORM FEED (\\f)</li>\n<li>U+0085 NEXT LINE</li>\n<li>\n<p>å¤šå­—èŠ‚å­—ç¬¦(é BMP), æ¯”å¦‚ Emoji:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">;</span><span class=\"token regex\">/^.$/</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ğŸ˜€'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// â†’ false</span></code></pre></div>\n<p>æ›¾ç»å¯ä»¥é€šè¿‡ <code class=\"language-text\">/u</code> è§£å†³:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token punctuation\">;</span><span class=\"token regex\">/^.$/u</span><span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ğŸ˜€'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// â†’ true</span></code></pre></div>\n</li>\n</ol>\n<p>è€Œåœ¨ ES9 ä¸­ï¼Œæ–°å¢åŠ äº†ä¸€ä¸ªæ–°çš„æ ‡å¿— <code class=\"language-text\">s</code>, è®© <code class=\"language-text\">.</code> å¯ä»¥åŒ¹é…ä»»æ„å•å­—ç¬¦.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> re <span class=\"token operator\">=</span> <span class=\"token operator\">/</span>foo<span class=\"token punctuation\">.</span>bar<span class=\"token operator\">/</span>s <span class=\"token comment\">// Or, `const re = new RegExp('foo.bar', 's');`.</span>\nre<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'foo\\nbar'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// â†’ true</span>\nre<span class=\"token punctuation\">.</span>dotAll\n<span class=\"token comment\">// â†’ true</span>\nre<span class=\"token punctuation\">.</span>flags\n<span class=\"token comment\">// â†’ 's'</span></code></pre></div>\n<h3>å‘½åæ•è·ç»„(RegExp Named Capture Groups)</h3>\n<p>ä»¥å‰:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> regex <span class=\"token operator\">=</span> <span class=\"token regex\">/(\\d{4})-(\\d{2})-(\\d{2})/</span>\n<span class=\"token keyword\">const</span> matchers <span class=\"token operator\">=</span> regex<span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2015-01-02'</span><span class=\"token punctuation\">)</span>\nmatchers<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">// 2015-01-02</span>\nmatchers<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">// 2015</span>\nmatchers<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">// 01</span>\nmatchers<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">// 02</span></code></pre></div>\n<p>ç°åœ¨:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> re <span class=\"token operator\">=</span> <span class=\"token regex\">/(?&lt;year>\\d{4})-(?&lt;month>\\d{2})-(?&lt;day>\\d{2})/u</span>\n<span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2015-01-02'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// result.groups.year === '2015';</span>\n<span class=\"token comment\">// result.groups.month === '01';</span>\n<span class=\"token comment\">// result.groups.day === '02';</span>\n\n<span class=\"token comment\">// result[0] === '2015-01-02';</span>\n<span class=\"token comment\">// result[1] === '2015';</span>\n<span class=\"token comment\">// result[2] === '01';</span>\n<span class=\"token comment\">// result[3] === '02';</span></code></pre></div>\n<p>è§£æ„ä¸€èµ·ç”¨:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> <span class=\"token punctuation\">{</span>\n  groups<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>one<span class=\"token punctuation\">,</span> two<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token regex\">/^(?&lt;one>.*):(?&lt;two>.*)$/u</span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">'foo:bar'</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`one: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>one<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, two: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>two<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// prints one: foo, two: bar</span></code></pre></div>\n<p>åå‘å¼•ç”¨:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">let duplicate = /^(?&lt;half&gt;.*).\\k&lt;half&gt;$/u;\nduplicate.test(&#39;a*b&#39;); // false\nduplicate.test(&#39;a*a&#39;); // true</code></pre></div>\n<p>è·Ÿæ•°å­—æ•è·ç»„ä¸€èµ·ä½¿ç”¨:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">let triplicate = /^(?&lt;part&gt;.*).\\k&lt;part&gt;.\\1$/u;\ntriplicate.test(&#39;a*a*a&#39;); // true\ntriplicate.test(&#39;a*a*b&#39;); // false</code></pre></div>\n<p>æ›¿æ¢å­—ç¬¦</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">let re = /(?&lt;year&gt;\\d{4})-(?&lt;month&gt;\\d{2})-(?&lt;day&gt;\\d{2})/u;\nlet result = &#39;2015-01-02&#39;.replace(re, &#39;$&lt;day&gt;/$&lt;month&gt;/$&lt;year&gt;&#39;);\n// result === &#39;02/01/2015&#39;</code></pre></div>\n<h3>åå‘æ–­è¨€(RegExp Lookbehind Assertions)</h3>\n<p>ä»¥å¾€åªæ”¯æŒæ­£å‘æ–­è¨€, ç°åœ¨æ”¯æŒäº†åå‘æ–­è¨€, è¯­æ³•æ˜¯ <code class=\"language-text\">(?&lt;=...)</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token regex\">/(?&lt;=\\$)\\d+(\\.\\d*)?/</span></code></pre></div>\n<p>è¿™ä¸ªä¾‹å­ä¼šåŒ¹é… <code class=\"language-text\">&#39;$10.53&#39;</code> æ•è·è¿”å› <code class=\"language-text\">&#39;10.53&#39;</code>, ä½†ä¸ä¼šåŒ¹é… <code class=\"language-text\">â‚¬10.53</code>.</p>\n<h3>Unicodeè½¬ä¹‰(RegExp Unicode Property Escapes)</h3>\n<p>è®¾ç½®<code class=\"language-text\">\\p{Script_Extensions}</code> æˆ– <code class=\"language-text\">\\P{Script_Extensions}</code>, ä½¿å¾—åœ¨ JS çš„æ­£åˆ™ä¸­ä½¿ç”¨ Unicode å­—ç¬¦, åŒ…æ‹¬ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„å­—ç¬¦. ä¸¾ä¸ªä¾‹å­æ¯”å¦‚å¸Œè…Šå­—æ¯:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> regexGreekSymbol <span class=\"token operator\">=</span> <span class=\"token regex\">/\\p{Script_Extensions=Greek}/u</span>\nregexGreekSymbol<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Ï€'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// â†’ true</span></code></pre></div>\n<h2>æœ€å</h2>\n<p>ç›®å‰å¤§éƒ¨åˆ†ç‰¹æ€§å·²ç»åº”ç”¨äºä¸»æµæµè§ˆå™¨äº†, ç”šè‡³æœ‰çš„æ—©æ—©å°±æœ‰, ä¹Ÿæœ‰ä¸€äº›æ­£åœ¨å®ç°è¿‡ç¨‹ä¸­çš„. ä½†å¦‚æœé‡åˆ°è¦è§£å†³å…¼å®¹æ€§çš„é—®é¢˜è¿˜æ˜¯å¾—è€è€å®å®æŸ¥ MDN, caniuse. è€Œ Node ç«¯ä¾ç„¶è½åäºæ ‡å‡†è®¾è®¡, è¿™ä¸ªæœ‰å†å²åŸå› ä¹Ÿæœ‰ç¨³å®šæ€§çš„è¦æ±‚. æ–°çš„æ ‡å‡†å‡ºæ¥çš„é€Ÿåº¦å¿«å…¶å®å¤§å®¶ä¹Ÿä¸ç”¨æ‰æ€¥, åŸå› åœ¨äºç”Ÿäº§ä¸­å¤§éƒ¨åˆ†æ—¶å€™æˆ‘ä»¬å…¶å®ç”¨ä¸åˆ°æœ€æ–°çš„æ ‡å‡†, æˆ–è€…å·²æœ‰å…¶ä»–çš„é€”å¾„æˆ–è€æ–¹æ³•è§£å†³æ‰é—®é¢˜. å†™å‡ºç‚«é…·çš„ä»£ç ä¸ä¸€å®šæ˜¯æœ€é‡è¦çš„, èƒ½å¤Ÿè§£å†³æ‰é—®é¢˜æ‰æ˜¯æœ€é‡è¦çš„. è€Œæ–°æ ‡å‡†æ›´å¤šçš„æ„ä¹‰åœ¨äºé‡åˆ°çœŸæ­£åˆé’»é—®é¢˜çš„æ—¶å€™èƒ½å¤Ÿæœ‰è§£å†³æ–¹æ³•æˆ–è¯­è¨€æ”¯æŒ, ä»¥åŠå¯¹ä»£ç æŠ½è±¡èƒ½åŠ›çš„æå‡, æ€§èƒ½çš„ä¼˜åŒ–ç­‰.</p>","frontmatter":{"title":"JavaScript ES2018/ES9 æ–°å¢æ ‡å‡†","date":"June 29, 2018","categories":"å¼±é¸¡ä¹‹è·¯"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/JavaScript-ES2018-ES9-æ–°å¢æ ‡å‡†/JavaScript-ES2018-ES9-æ–°å¢æ ‡å‡†/","previous":{"fields":{"slug":"/åœŸè±†ğŸ¥”å‘¨æŠ¥ç”Ÿæˆå™¨/"},"frontmatter":{"title":"åœŸè±†ğŸ¥”å‘¨æŠ¥ç”Ÿæˆå™¨"}},"next":{"fields":{"slug":"/Backpressure/Backpressure/"},"frontmatter":{"title":"Node.js Streams ä¸­çš„èƒŒå‹(backpressure)"}}}}